[nightly]
builders: 'builder1'
repos: [{'poky':
            {'repourl':'git://git.yoctoproject.org/poky',
             'layerversion':{'core':'meta', 'yoctobsp':'meta-yocto-bsp'},
             'branch':'master'}},
        {'meta-intel':
            {'repourl':'git://git.yoctoproject.org/meta-intel',
             'branch':'master'}},
        {'meta-minnow':
            {'repourl':'git://git.yoctoproject.org/meta-minnow',
             'branch':'master'}},
        {'meta-fsl-ppc':
            {'repourl':'git://git.yoctoproject.org/meta-fsl-ppc',
             'branch':'master'}},
        {'meta-fsl-arm':
            {'repourl':'git://git.yoctoproject.org/meta-fsl-arm',
             'branch':'master'}},
        {'oecore':
            {'repourl':'git://git.openembedded.org/openembedded-core',
             'layerversion':'core',
             'checkout':False,
             'branch':'master'}},
        {'bitbake':
            {'repourl':'git://git.openembedded.org/bitbake',
             'checkout':False,
             'branch':'master'}},
        {'eclipse-poky-kepler':
            {'repourl':'git://git.yoctoproject.org/eclipse-poky-kepler',
             'checkout':False,
             'branch':'master'}},
        {'eclipse-poky-juno':
            {'repourl':'git://git.yoctoproject.org/eclipse-poky-juno',
             'checkout':False,
             'branch':'master'}},
        {'meta-qt3':
            {'repourl':'git://git.yoctoproject.org/meta-qt3',
             'branch':'master'}}]
props: [{'release_me':{'prop_type':'ChoiceStringParameter',
                       'choices': ['False', 'True'],
                       'name': 'release_me',
                       'label':'<h3> Generate a release?:</h3>'}},
        {'poky_name':{'prop_type':'StringParameter',
                       'size': 10,
                       'name': 'poky_name',
                       'label':'<h3> Poky Release Name (dora, danny, edison, etc.):</h3>'}},
        {'poky_number':{'prop_type':'StringParameter',
                       'size': 10,
                       'name': 'poky_number',
                       'label':'<h3> Poky Release Number (10.0.0, 10.0.0+snapshot, 11.0.1 etc.):</h3>'}},
        {'yocto_number':{'prop_type':'StringParameter',
                       'size': 10,
                       'name': 'yocto_number',
                       'label':'<h3> Yocto Project Release Number (1.5, 1.6_M2.rc1, etc.):</h3>'}},
        {'send_email':{'prop_type':'ChoiceStringParameter',
                       'choices': ['False', 'True'],
                       'name': 'send_email',
                       'label':'<h3> Send QA alert emails?:</h3>'}},
        {'prefered_kernel':{'prop_type':'StringParameter',
                       'size': 15,
                       'name': 'prefered_kernel',
                       'default': 'linux-yocto',
                       'label':'<hr><h3> PREFERRED_PROVIDER_virtual/kernel (default is "linux-yocto"):</h3>'}}]
steps: [{'SetDest':{}},
        {'CheckOutLayers': {}},
        {'RunPreamble': {}},
        {'GetDistroVersion' : {'distro': 'poky'}},
        {'CreateAutoConf': {'machine': 'qemux86', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'CreateBBLayersConf': {'buildprovider' : 'yocto'}},
        {'BuildImages': {'images': 'universe -c fetch'}},
        {'TriggerBuilds': {'schedulerName': 'main-build', 'waitForFinish': 'True', 
                           'schedulerNames': {'minnow': {}, 'minnow-lsb': {},
                           'nightly-arm': {}, 'nightly-arm-lsb': {},
                           'nightly-fsl-arm': {}, 'nightly-fsl-arm-lsb': {},
                           'nightly-fsl-ppc': {}, 'nightly-fsl-ppc-lsb': {},
                           'nightly-mips': {}, 'nightly-mips-lsb': {}, 
                           'nightly-multilib': {}, 'nightly-x32': {}, 
                           'nightly-ppc': {}, 'nightly-ppc-lsb': {},
                           'nightly-x86-64': {}, 'nightly-x86-64-lsb': {},
                           'nightly-x86': {}, 'nightly-x86-lsb': {},
                           'nightly-rpm': {}, 'nightly-deb': {}, 'nightly-ipk': {}},
                           'schedulerNames_nowait' : {'build-appliance': {},
                           'eclipse-plugin-kepler': {}, 'eclipse-plugin-juno': {},
                           'nightly-non-gpl3': {}, 'nightly-oecore': {},
                           'nightly-world':{}, 'nightly-intel-gpl': {},
                           'poky-tiny': {}, 'buildtools': {},
                           'nightly-qa-systemd': {}, 'nightly-qa-extras': {},
                           'nightly-qa-logrotate': {}, 'nightly-qa-pam': {},
                           'nightly-qa-skeleton': {}}}},
        {'PrepPkgIndex' : {}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateAutoConf': {'machine': 'atom-pc', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateAutoConf': {'machine': 'qemuarm', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateAutoConf': {'machine': 'beagleboard', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateAutoConf': {'machine': 'qemumips', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateAutoConf': {'machine': 'routerstationpro', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateAutoConf': {'machine': 'qemuppc', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateAutoConf': {'machine': 'mpc8315e-rdb', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateBBLayersConf': {'buildprovider' : 'yocto', 'bsplayer' : True, 'bspprovider' : 'fsl-ppc'}},
        {'CreateAutoConf': {'machine': 'p1022ds', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateBBLayersConf': {'buildprovider' : 'yocto', 'bsplayer' : True, 'bspprovider' : 'fsl-arm'}},
        {'CreateAutoConf': {'machine': 'imx53qsb', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateBBLayersConf': {'buildprovider' : 'yocto'}},
        {'CreateAutoConf': {'machine': 'qemux86-64', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateAutoConf': {'machine': 'qemux86', 'SDKMACHINE' : 'i686',
                            'distro': 'poky', 'adtdev':True}},
        {'BuildImages': {'images': 'package-index'}},
        {'CreateAutoConf': {'machine': 'qemux86-64', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky'}},
        {'BuildImages': {'images': 'adt-installer'}},
        {'PublishArtifacts': {'artifacts': ['adt-installer']}},
        {'CreateAutoConf': {'machine': 'qemux86-64', 'SDKMACHINE' : 'x86_64',
                            'distro': 'poky', 'adtdev':True}},
        {'BuildImages': {'images': 'adt-installer'}},
        {'PublishArtifacts': {'artifacts': ['adt-installer-QA', 'adtrepo-dev']}},
        {'CreateCurrentLink' : {}}]
